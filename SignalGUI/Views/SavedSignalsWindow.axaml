<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:SignalGUI.ViewModels"
        xmlns:sys="clr-namespace:System;assembly=System.Runtime"
        x:Class="SignalGUI.Views.SavedSignalsWindow"
        x:DataType="vm:CompositeComponentViewModel"
        Title="Saved Signals"
        Width="500" Height="400"
        WindowStartupLocation="CenterOwner">
  
  <StackPanel Margin="20">
    <TextBlock Text="Manage Saved Signals" 
               FontSize="16" 
               FontWeight="Bold" 
               Margin="0,0,0,20" 
               HorizontalAlignment="Center"/>

    <ScrollViewer MaxHeight="250" Margin="0,0,0,20">
      <ItemsControl ItemsSource="{Binding SavedGuiInstances}">
        <ItemsControl.ItemTemplate>
          <DataTemplate>
            <Border Background="Transparent" Margin="0,2" Padding="5" CornerRadius="3" BorderBrush="Gray" BorderThickness="1">
              <Grid ColumnDefinitions="2*, Auto, Auto">
                <TextBox Text="{Binding ObjectName, Mode=TwoWay}"
                         VerticalAlignment="Center"
                         Margin="0,0,5,0"/>
                <Button Grid.Column="1"
                        Content="Load"
                        Command="{Binding $parent[Window].DataContext.LoadSpecificGuiInstanceCommand}"
                        CommandParameter="{Binding .}"
                        Width="60" Height="30"
                        Margin="2,0"
                        Background="LightBlue"
                        Foreground="Black"/>
                <Button Grid.Column="2"
                        Content="Remove"
                        Command="{Binding $parent[Window].DataContext.RemoveGuiInstanceCommand}"
                        CommandParameter="{Binding .}"
                        Width="70" Height="30"
                        Margin="5,0,0,0"
                        Background="LightCoral"
                        Foreground="Black"/>
              </Grid>
            </Border>
          </DataTemplate>
        </ItemsControl.ItemTemplate>
      </ItemsControl>
    </ScrollViewer>

    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
      <Button x:Name="CloseButton" 
              Content="Close" 
              Width="80" 
              Height="30" 
              Click="CloseButton_Click"/>
    </StackPanel>
  </StackPanel>
</Window>